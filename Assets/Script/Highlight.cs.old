using UnityEngine;
using System.Collections;

[RequireComponent (typeof (SpriteRenderer))]


public class Highlight : MonoBehaviour {

	//transparence minimum et maximum
	public float baseAlpha = 0, maxAlpha = 1;

	//vitesse d'apparition/disparition
	public float fadeSpeed;

	//collider qui active le highlight
	public Collider2D targetCollider;


	private bool show = true;

	void Update () {

		if (!show || targetCollider.enabled == false) {
			this.GetComponent<SpriteRenderer> ().color = new Color(255,255,255,0);
			return;
		}

		//si le curseur de la souris est dans le Collider
		if(targetCollider.OverlapPoint(Camera.main.ScreenToWorldPoint(Input.mousePosition).toVector2()))
			this.GetComponent<SpriteRenderer> ().color = new Color(255,255,255,Mathf.Lerp (this.GetComponent<SpriteRenderer> ().color.a, maxAlpha,
			                                                                               fadeSpeed));
		else
			this.GetComponent<SpriteRenderer> ().color = new Color(255,255,255 ,Mathf.Lerp (this.GetComponent<SpriteRenderer> ().color.a,baseAlpha, 
			                                                                                fadeSpeed));
	}


	public void enable(){
		show = true;
	}
	public void disable(){
		show = false;
	}


}
